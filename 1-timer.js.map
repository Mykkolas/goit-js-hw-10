{"version":3,"file":"1-timer.js","sources":["../src/js/1-timer.js"],"sourcesContent":["import flatpickr from \"flatpickr\";\nimport \"flatpickr/dist/flatpickr.min.css\";\n\nimport iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\n\n\nconst input = document.getElementById(\"datetime-picker\")\nconst submitBtn = document.querySelector(\"button\")\n\nconst daysEl = document.querySelector(\"[data-days]\");\nconst hoursEl = document.querySelector(\"[data-hours]\");\nconst minutesEl = document.querySelector(\"[data-minutes]\");\nconst secondsEl = document.querySelector(\"[data-seconds]\");\n\nlet userSelectedDate = null\nlet countdownInterval = null\n\nconst options = {\n  enableTime: true,\n  time_24hr: true,\n  defaultDate: new Date(),\n  minuteIncrement: 1,\n    onClose(selectedDates) {\n        if (selectedDates[0] < new Date()) {\n            submitBtn.disabled = true;\n          iziToast.show({\n            message: \"Please choose a date in the future\",\n            position: 'topRight',\n            backgroundColor: 'red',\n            messageColor: 'white',\n            progressBar: false,\n            })\n          \n        }\n        else {\n            submitBtn.disabled = false;\n            userSelectedDate = selectedDates[0]            \n        }       \n  },\n};\n\nflatpickr(input, options)\n\nfunction handleSubmit() {\n \n  countdownInterval = setInterval(() => {\n    submitBtn.disabled = true;\n    input.disabled = true\n    const timeRemained = convertMs(+userSelectedDate - Date.now());\n\n    if (+userSelectedDate <= Date.now()) {\n      clearInterval(countdownInterval);\n    input.disabled = false\n      resetCountdown();\n      return;\n    }\n\n    updateCountdown(timeRemained);\n  }, 1000);\n}\n\n\nfunction updateCountdown({ days, hours, minutes, seconds }) {\n  daysEl.innerHTML = formatTime(days)\n  hoursEl.innerHTML = formatTime(hours)\n  minutesEl.innerHTML = formatTime(minutes)\n  secondsEl.innerHTML = formatTime(seconds)\n}\n\nfunction formatTime(time) {\n    return time < 10 ? (`0${time}`) : time;\n}\n\nfunction resetCountdown() {\n  daysEl.innerHTML = \"00\";\n  hoursEl.innerHTML = \"00\";\n  minutesEl.innerHTML = \"00\";\n  secondsEl.innerHTML = \"00\";\n}\n\nfunction convertMs(ms) {\n  const second = 1000;\n  const minute = second * 60;\n  const hour = minute * 60;\n  const day = hour * 24;\n\n  const days = Math.floor(ms / day);\n  const hours = Math.floor((ms % day) / hour);\n  const minutes = Math.floor(((ms % day) % hour) / minute);\n  const seconds = Math.floor((((ms % day) % hour) % minute) / second);\n\n  return { days, hours, minutes, seconds };\n}\n\nsubmitBtn.addEventListener(\"click\", handleSubmit);\n"],"names":["input","submitBtn","daysEl","hoursEl","minutesEl","secondsEl","userSelectedDate","countdownInterval","options","selectedDates","iziToast","flatpickr","handleSubmit","timeRemained","convertMs","resetCountdown","updateCountdown","days","hours","minutes","seconds","formatTime","time","ms"],"mappings":"2FAOA,MAAMA,EAAQ,SAAS,eAAe,iBAAiB,EACjDC,EAAY,SAAS,cAAc,QAAQ,EAE3CC,EAAS,SAAS,cAAc,aAAa,EAC7CC,EAAU,SAAS,cAAc,cAAc,EAC/CC,EAAY,SAAS,cAAc,gBAAgB,EACnDC,EAAY,SAAS,cAAc,gBAAgB,EAEzD,IAAIC,EAAmB,KACnBC,EAAoB,KAExB,MAAMC,EAAU,CACd,WAAY,GACZ,UAAW,GACX,YAAa,IAAI,KACjB,gBAAiB,EACf,QAAQC,EAAe,CACfA,EAAc,CAAC,EAAI,IAAI,MACvBR,EAAU,SAAW,GACvBS,EAAS,KAAK,CACZ,QAAS,qCACT,SAAU,WACV,gBAAiB,MACjB,aAAc,QACd,YAAa,EACzB,CAAa,IAIDT,EAAU,SAAW,GACrBK,EAAmBG,EAAc,CAAC,EAE3C,CACH,EAEAE,EAAUX,EAAOQ,CAAO,EAExB,SAASI,GAAe,CAEtBL,EAAoB,YAAY,IAAM,CACpCN,EAAU,SAAW,GACrBD,EAAM,SAAW,GACjB,MAAMa,EAAeC,EAAU,CAACR,EAAmB,KAAK,IAAG,CAAE,EAE7D,GAAI,CAACA,GAAoB,KAAK,MAAO,CACnC,cAAcC,CAAiB,EACjCP,EAAM,SAAW,GACfe,IACA,MACD,CAEDC,EAAgBH,CAAY,CAC7B,EAAE,GAAI,CACT,CAGA,SAASG,EAAgB,CAAE,KAAAC,EAAM,MAAAC,EAAO,QAAAC,EAAS,QAAAC,CAAO,EAAI,CAC1DlB,EAAO,UAAYmB,EAAWJ,CAAI,EAClCd,EAAQ,UAAYkB,EAAWH,CAAK,EACpCd,EAAU,UAAYiB,EAAWF,CAAO,EACxCd,EAAU,UAAYgB,EAAWD,CAAO,CAC1C,CAEA,SAASC,EAAWC,EAAM,CACtB,OAAOA,EAAO,GAAM,IAAIA,CAAI,GAAMA,CACtC,CAEA,SAASP,GAAiB,CACxBb,EAAO,UAAY,KACnBC,EAAQ,UAAY,KACpBC,EAAU,UAAY,KACtBC,EAAU,UAAY,IACxB,CAEA,SAASS,EAAUS,EAAI,CAMrB,MAAMN,EAAO,KAAK,MAAMM,EAAK,KAAG,EAC1BL,EAAQ,KAAK,MAAOK,EAAK,MAAO,IAAI,EACpCJ,EAAU,KAAK,MAAQI,EAAK,MAAO,KAAQ,GAAM,EACjDH,EAAU,KAAK,MAASG,EAAK,MAAO,KAAQ,IAAU,GAAM,EAElE,MAAO,CAAE,KAAAN,EAAM,MAAAC,EAAO,QAAAC,EAAS,QAAAC,CAAO,CACxC,CAEAnB,EAAU,iBAAiB,QAASW,CAAY"}